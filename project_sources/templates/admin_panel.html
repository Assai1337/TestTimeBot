<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Панель администратора</title>
    <!-- Подключаем общие стили и стили для этой страницы -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/admin_panel.css') }}">
</head>
<body>
    <div class="container admin-panel">
        <h1>Панель администратора</h1>
        <a href="{{ url_for('create_test') }}" class="btn-create">Создать новый тест</a>

        <h2>Существующие тесты</h2>
        <table>
            <thead>
                <tr>
                    <th>Название теста</th>
                    <th>Описание</th>
                    <th>Группы с доступом</th>
                    <th>Дата создания</th>
                    <th>Дата окончания</th>
                    <th>Количество вопросов</th>
                    <th>Баллы для прохождения</th>
                    <th>Длительность (минуты)</th>
                    <th>Количество попыток</th>
                </tr>
            </thead>
            <tbody>
                {% for test in tests %}
                <tr>
                    <td>{{ test.test_name }}</td>
                    <td>{{ test.description or "Нет описания" }}</td>
                    <td>{{ test.groups_with_access or "Все группы" }}</td>
                    <td>{{ test.creation_date.strftime('%Y-%m-%d %H:%M:%S') }}</td>
                    <td>{{ test.expiry_date.strftime('%Y-%m-%d %H:%M:%S') if test.expiry_date else "Без окончания" }}</td>
                    <td>{{ test.question_count }}</td>
                    <td>{{ test.scores_need_to_pass }}</td>
                    <td>{{ test.duration }}</td>
                    <td>{{ test.number_of_attempts }}</td>
                    <td>
                    <a href="{{ url_for('edit_test', test_id=test.id) }}" class="btn-action">Редактировать тест</a>
                    <a href="{{ url_for('edit_questions', test_id=test.id) }}" class="btn-action">Редактировать вопросы</a>
                    <a href="{{ url_for('view_results', test_id=test.id) }}" class="btn-action">Результаты</a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</body>
</html>
